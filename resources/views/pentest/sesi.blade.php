<!-- resources/views/pentest/sesi.blade.php -->
@include('pentest._template', [
    'title' => 'Pentest API - Sesi Controller',
    'apiList' => [
        [
            'label' => 'Daftar Semua Sesi',
            'method' => 'GET',
            'url' => '/api/sesi',
            'noteHtml' =>
                '<span class="text-xs text-amber-700"><b>⭐ FILTER:</b> Hanya tampil sesi dengan transaksi statusPembayaran = <b>accepted</b>. Include relasi: mentor.user, pelanggan.user, kursus, jadwalKursus, <b>paket</b> (dengan items).</span>',
        ],
        [
            'label' => 'Detail Sesi',
            'method' => 'GET',
            'url' => '/api/sesi/{id}',
            'noteHtml' =>
                '<span class="text-xs text-amber-700"><b>⭐ Include:</b> mentor.user, pelanggan.user, kursus, jadwalKursus, <b>paket</b> (dengan items), transaksi, testimoni. Ganti <b>{id}</b> sesuai data Anda.</span>',
        ],
        [
            'label' => 'Tambah Sesi',
            'method' => 'POST',
            'url' => '/api/sesi',
            'body' => [
                'mentor_id' => '',
                'pelanggan_id' => '',
                'kursus_id' => '',
                'jadwal_kursus_id' => '',
                'paket_id' => '', // ⭐ OPTIONAL: null jika tanpa paket
                'detailKursus' => '',
                'statusSesi' => 'pending',
            ],
            'headers' => ['Authorization' => 'Bearer {token}'],
            'noteHtml' =>
                '<span class="text-xs text-amber-700"><b>⭐ PAKET OPTIONAL:</b> Field <b>paket_id</b> nullable. Field <b>statusSesi</b> wajib diisi dengan: <b>pending</b>, <b>started</b>, <b>confirmed</b>, <b>end</b>, <b>reviewed</b>.<br>Disarankan gunakan <b>pending</b> untuk pemesanan awal.<br>Field <b>mentor_id</b> dan <b>pelanggan_id</b> wajib sesuai user terkait.</span>',
        ],
        [
            'label' => 'Update Sesi',
            'method' => 'PUT',
            'url' => '/api/sesi/{id}',
            'body' => [
                'mentor_id' => '',
                'pelanggan_id' => '',
                'kursus_id' => '',
                'jadwal_kursus_id' => '',
                'detailKursus' => '',
                'statusSesi' => '',
            ],
            'headers' => ['Authorization' => 'Bearer {token}'],
            'noteHtml' =>
                '<span class="text-xs text-amber-700">Update data sesi. <b>statusSesi</b> dapat diubah ke <b>started</b>, <b>confirmed</b>, <b>end</b>, atau <b>reviewed</b> sesuai alur. Ganti <b>{id}</b> sesuai data Anda.</span>',
        ],
        [
            'label' => 'Hapus Sesi',
            'method' => 'DELETE',
            'url' => '/api/sesi/{id}',
            'headers' => ['Authorization' => 'Bearer {token}'],
            'noteHtml' =>
                '<span class="text-xs text-amber-700">Menghapus sesi berdasarkan <b>id</b>. Hanya bisa dilakukan oleh admin atau user terkait.</span>',
        ],
        [
            'label' => 'Konfirmasi Sesi',
            'method' => 'POST',
            'url' => '/api/sesi/{id}/konfirmasi',
            'body' => null,
            'headers' => ['Authorization' => 'Bearer {token}'],
            'noteHtml' =>
                '<span class="text-xs text-amber-700">Mengubah status sesi menjadi <b>confirmed</b> (oleh mentor). Sesi harus berstatus <b>pending</b> atau <b>started</b> sebelum dikonfirmasi.</span>',
        ],
        [
            'label' => 'Tandai Sesi Selesai',
            'method' => 'POST',
            'url' => '/api/sesi/{id}/selesai',
            'body' => null,
            'headers' => ['Authorization' => 'Bearer {token}'],
            'noteHtml' =>
                '<span class="text-xs text-amber-700">Mengubah status sesi menjadi <b>end</b> (selesai) oleh mentor. Setelah status <b>end</b>, pelanggan bisa memberi testimoni. Jika testimoni sudah diberikan, status otomatis menjadi <b>reviewed</b>.</span>',
        ],
    ],
])
