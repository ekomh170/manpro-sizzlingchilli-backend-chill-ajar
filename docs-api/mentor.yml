openapi: 3.0.3
info:
  title: Mentor API
  version: 1.0.0
  description: Dokumentasi endpoint MentorController untuk fitur mentor pada platform Chill Ajar.
servers:
  - url: http://localhost:8000/api
paths:
  /mentor/profil-saya:
    get:
      summary: Lihat profil mentor yang sedang login
      tags: [Mentor]
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Data profil mentor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Mentor"
              example:
                id: 2
                user_id: 5
                rating: 4.8
                biayaPerSesi: 150000
                gayaMengajar: "Online"
                deskripsi: "Berpengalaman mengajar matematika SMA."
                user:
                  id: 5
                  nama: "Budi Santoso"
                  email: "budi@example.com"
                  nomorTelepon: "08123456789"
                  alamat: "Jl. Mawar No. 1"
      description: |
        Lihat profil mentor yang sedang login beserta data user terkait.

        Contoh penggunaan (curl):
        ```bash
        curl -X GET \
          http://localhost:8000/api/mentor/profil-saya \
          -H "Authorization: Bearer <token>"
        ```
  /mentor/atur-jadwal:
    post:
      summary: Atur atau perbarui jadwal pengajaran
      tags: [Mentor]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                mentor_id:
                  type: integer
                  example: 2
                jadwal:
                  type: string
                  example: "Senin, 10:00-12:00"
              required:
                - mentor_id
                - jadwal
            example:
              mentor_id: 2
              jadwal: "Senin, 10:00-12:00"
      responses:
        "200":
          description: Jadwal berhasil diperbarui
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Jadwal pengajaran diperbarui
              example:
                message: Jadwal pengajaran diperbarui
      description: |
        Atur atau perbarui jadwal pengajaran.

        Contoh penggunaan (curl):
        ```bash
        curl -X POST \
          http://localhost:8000/api/mentor/atur-jadwal \
          -H "Authorization: Bearer <token>" \
          -H "Content-Type: application/json" \
          -d '{
            "mentor_id": 2,
            "jadwal": "Senin, 10:00-12:00"
          }'
        ```
  /mentor/atur-gaya:
    post:
      summary: Atur atau perbarui gaya mengajar
      tags: [Mentor]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                mentor_id:
                  type: integer
                  example: 2
                gayaMengajar:
                  type: string
                  example: "Online"
              required:
                - mentor_id
                - gayaMengajar
            example:
              mentor_id: 2
              gayaMengajar: "Online"
      responses:
        "200":
          description: Gaya mengajar berhasil diperbarui
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Gaya mengajar diperbarui
              example:
                message: Gaya mengajar diperbarui
      description: |
        Atur atau perbarui gaya mengajar.

        Contoh penggunaan (curl):
        ```bash
        curl -X POST \
          http://localhost:8000/api/mentor/atur-gaya \
          -H "Authorization: Bearer <token>" \
          -H "Content-Type: application/json" \
          -d '{
            "mentor_id": 2,
            "gayaMengajar": "Online"
          }'
        ```
  /mentor/daftar-sesi:
    get:
      summary: Daftar sesi pengajaran yang dijadwalkan
      tags: [Mentor]
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Daftar sesi
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Session"
              example:
                - id: 10
                  mentor_id: 2
                  pelanggan_id: 7
                  detailKursus: "Kalkulus Dasar"
                  jadwal: "Senin, 10:00-12:00"
                  statusSesi: "booked"
      description: |
        Daftar sesi pengajaran yang dijadwalkan.

        Contoh penggunaan (curl):
        ```bash
        curl -X GET \
          http://localhost:8000/api/mentor/daftar-sesi \
          -H "Authorization: Bearer <token>"
        ```
  /mentor/konfirmasi-sesi/{sessionId}:
    post:
      summary: Konfirmasi sesi pengajaran
      tags: [Mentor]
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: sessionId
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Sesi berhasil dikonfirmasi
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Sesi dikonfirmasi
                  session:
                    $ref: "#/components/schemas/Session"
              example:
                message: Sesi dikonfirmasi
                session:
                  id: 10
                  statusSesi: confirmed
      description: |
        Konfirmasi sesi pengajaran.

        Contoh penggunaan (curl):
        ```bash
        curl -X POST \
          http://localhost:8000/api/mentor/konfirmasi-sesi/10 \
          -H "Authorization: Bearer <token>"
        ```
  /mentor/selesai-sesi/{sessionId}:
    post:
      summary: Tandai sesi sebagai selesai
      tags: [Mentor]
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: sessionId
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Sesi berhasil diselesaikan
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Sesi selesai
                  session:
                    $ref: "#/components/schemas/Session"
              example:
                message: Sesi selesai
                session:
                  id: 10
                  statusSesi: completed
      description: |
        Tandai sesi sebagai selesai.

        Contoh penggunaan (curl):
        ```bash
        curl -X POST \
          http://localhost:8000/api/mentor/selesai-sesi/10 \
          -H "Authorization: Bearer <token>"
        ```
  /mentor/daftar-testimoni:
    get:
      summary: Daftar testimoni yang diterima mentor
      tags: [Mentor]
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Daftar testimoni
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Testimoni"
              example:
                - id: 1
                  session_id: 10
                  pelanggan_id: 7
                  mentor_id: 2
                  rating: 5
                  komentar: "Mentor sangat membantu dan jelas dalam mengajar."
                  tanggal: "2025-05-18"
      description: |
        Daftar testimoni yang diterima mentor.

        Contoh penggunaan (curl):
        ```bash
        curl -X GET \
          http://localhost:8000/api/mentor/daftar-testimoni \
          -H "Authorization: Bearer <token>"
        ```
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    Mentor:
      type: object
      properties:
        id:
          type: integer
          example: 2
        user_id:
          type: integer
          example: 5
        rating:
          type: number
          example: 4.8
        biayaPerSesi:
          type: number
          example: 150000
        gayaMengajar:
          type: string
          example: "Online"
        deskripsi:
          type: string
          example: "Berpengalaman mengajar matematika SMA."
        user:
          type: object
          properties:
            id:
              type: integer
              example: 5
            nama:
              type: string
              example: "Budi Santoso"
            email:
              type: string
              example: "budi@example.com"
            nomorTelepon:
              type: string
              example: "08123456789"
            alamat:
              type: string
              example: "Jl. Mawar No. 1"
    Session:
      type: object
      properties:
        id:
          type: integer
          example: 10
        mentor_id:
          type: integer
          example: 2
        pelanggan_id:
          type: integer
          example: 7
        detailKursus:
          type: string
          example: "Kalkulus Dasar"
        jadwal:
          type: string
          example: "Senin, 10:00-12:00"
        statusSesi:
          type: string
          description: Status sesi, hanya boleh "booked", "confirmed", atau "completed".
          example: "booked"
        pelanggan:
          type: object
          properties:
            id:
              type: integer
              example: 7
            user_id:
              type: integer
              example: 8
            statusPembayaran:
              type: string
              example: "lunas"
            user:
              type: object
              properties:
                id:
                  type: integer
                  example: 8
                nama:
                  type: string
                  example: "Siti Aminah"
                email:
                  type: string
                  example: "siti@example.com"
    Testimoni:
      type: object
      properties:
        id:
          type: integer
          example: 1
        session_id:
          type: integer
          example: 10
        pelanggan_id:
          type: integer
          example: 7
        mentor_id:
          type: integer
          example: 2
        rating:
          type: number
          example: 5
        komentar:
          type: string
          example: "Mentor sangat membantu dan jelas dalam mengajar."
        tanggal:
          type: string
          format: date
          example: "2025-05-18"
